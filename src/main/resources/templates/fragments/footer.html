<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<footer th:fragment="footer" class="bg-light text-center text-muted py-3 mt-auto">
    <div class="container">
        <p class="mb-0">
            &copy; 2024 School Attendance and Room Booking Application. All rights reserved.
        </p>
        <small class="text-muted">
            Built with Spring Boot & Bootstrap
        </small>
    </div>

    <!-- Bootstrap 5.3 JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

    <!-- Custom JavaScript -->
    <script th:src="@{/js/custom.js}"></script>

    <script th:if="${error != null}">
        $(document).ready(function() {
            showAlert('danger', /*[[${error}]]*/ '');
        });
    </script>

    <script th:if="${message != null}">
        $(document).ready(function() {
            showAlert('success', /*[[${message}]]*/ '');
        });
    </script>

    <script>
        function showAlert(type, message) {
            const alertHtml = `
                <div class="alert alert-${type} alert-dismissible fade show" role="alert">
                    ${message}
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>
            `;
            const alertContainer = $('#alert-container');
            if (alertContainer.length) {
                alertContainer.html(alertHtml);
            } else {
                $('main').prepend('<div id="alert-container">' + alertHtml + '</div>');
            }
        }

        function confirmDelete(message) {
            return confirm(message || 'Are you sure you want to delete this item?');
        }

        function formatDateTime(dateTimeString) {
            if (!dateTimeString) return '';
            const date = new Date(dateTimeString);
            return date.toLocaleString();
        }

        function formatDate(dateString) {
            if (!dateString) return '';
            const date = new Date(dateString);
            return date.toLocaleDateString();
        }

        function formatTime(timeString) {
            if (!timeString) return '';
            const date = new Date(timeString);
            return date.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
        }
    </script>
</footer>
</html>